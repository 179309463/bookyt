= semantic_form_for @employee do |f|
  = f.semantic_errors

  .row-fluid
    .span5
      = f.inputs t('form.person.address') do
        = render 'vcards/form', :f => f

    .span5
      = f.inputs t_model(PhoneNumber) do
        = link_to t_action(:more), [:new_phone_number, resource.persisted? ? resource : controller_name], :remote => true, :class => 'icon-add-text', :style => 'float: right'
        .nested-form.list.contacts
          = f.fields_for :vcard do |vcard|
            - vcard.object.contacts.build_defaults
            - vcard.fields_for :contacts do |contact|
              = render 'phone_numbers/form', :item => contact

  = f.inputs t('form.person.civil') do
    .row-fluid
      .span5
        = f.input :sex, :as => :select, :collection => { t('sex.male') => Person::MALE, t('sex.female') => Person::FEMALE }
        = f.input :nationality
        = f.input :date_of_birth, :as => :date_field
      .span5
        = f.input :civil_status
        = f.input :religion
        = f.input :social_security_nr

  = f.semantic_fields_for :employments, (@employments || f.object.employments.valid) do |employment|
    = employment.input :employer_id, :as => :hidden

    = render 'employments/fields', :f => employment

  = f.buttons do
    = f.commit_button
